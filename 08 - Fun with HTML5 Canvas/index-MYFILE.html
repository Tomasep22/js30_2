<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTML5 Canvas</title>
</head>
<body>
<canvas id="draw" width="800" height="800"></canvas>
<script>

const canvas = document.querySelector("#draw");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
ctx.strokeStyle = "yellow";
ctx.lineCap = "round";
ctx.lineJoin = "round";
ctx.lineWidth = 100;

let isDrawing = false;
let lastX = 0;
let lastY = 0;
let hue = 0;
let direction = true;

function draw(e) {
  if(!isDrawing) return;
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(e.offsetX, e.offsetY);
  ctx.stroke();
  [lastX, lastY] = [e.offsetX, e.offsetY];
  ctx.strokeStyle = `hsl(${hue}, 100%, 50%)`;
  if (hue >= 360) hue = 0;
  hue++;
  if (ctx.lineWidth >= 100 || ctx.lineWidth <= 1) direction = !direction;
  if (direction) {
    ctx.lineWidth++
  } else {
    ctx.lineWidth--
  }
}

canvas.addEventListener("mousemove", draw);

canvas.addEventListener("mousedown", (e) => {
  isDrawing = true;
  [lastX, lastY] = [e.offsetX, e.offsetY];
});

canvas.addEventListener("mouseup", () => isDrawing = false);
canvas.addEventListener("mouseout", () => isDrawing = false);













// 1. selecciono el canvas
// 1.1 creo el contexto para el canvas, en este caso en 2d
// 1.2 queremos cambiar el ancho y el alto del canvas a los de la pantalla
// 1.3 primeras configuraciones basicas. color, tipo de linea (extremos y union) color BADASS // extremos redondos // uniones redondas
// 1.4 1er variable. el valor es false pq el plan es que cuando alguien haga click derecho pase a true, asi el codigo sabe cuando tiene que dibujar;
// 1.5 dos variables para que el codigo sepa donde empieza la línea tanto en X como en Y.

// 2. creamos la funcion draw
// 2.1 creamos un event listener que escuche movimiento de mouse y haga correr la f(x) draw.
// 2.2 detiene la funcion si is drawing tiene valor false  
// 2.3 usamos E.L para que isDrawing sea true cuando el mouse este apretado y false cuando largamos el click o el mouse se va de la pantalla
// 2.4 creamos el camino
// 2.5 definimos a donde empieza usando las variables que creamos antes
// 2.6 definimos a donde termina la línea usando los datos de el evento.
// 2.7 empeza a dibujar
// 2.8 modificamos las variables para que el comienzo sea igual a donde termina la linea
// 2.9 para que el dibujo no empieze en 0:0 sino donde hacemos click, vamos a hacer que en el evento 
//     del mousedown se actualizen los valores de las variables que definen las coordenadas
// 2.9.5 en el segundo argumento de este E.L hay qye hacer pasar el evento para que funcione. 

//3. agrandamos el ancho de la linea
// 3.1 creamos una variable para el hue
// 3.2 modificamos el color del strokedtyle antes de beginpath. color la variable hue, saturacion 100%, luz 50%
// 3.3 al final de la funcion draw ponemos un incremento en la variable hue para que cambie de color
// 3.4 ponemos un condicional para que hue vuelva a 0 cuando pasa el 360
// 3.5 nueva variable para la dirrecion, es igual a true para que crezca
//3.6 para que la linea crezca despues de cada loop le ponemos un incremento al ancho
//3.7 condicional para que la direccion del incremento sea la opuesta cuando la linea es mayor o igual a 100 o menor o igual a 1
// 3.8 condicional para que si la dirreccion es true se aplique el incremento a la linea
// 3.8.5 si es false que el ancho baje
</script>

<style>
  html, body {
    margin: 0;
  }
</style>

</body>
</html>
